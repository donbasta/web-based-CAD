<html>
    <head>
        <link rel="stylesheet" href="styles.css"/>
        <script id = "vertex" type = "x-shader/x-vertex">
            attribute vec2 aVertexPosition;
            uniform mat4 formMatrix;
            
            void main() {
                gl_Position = formMatrix * vec4(aVertexPosition, 0.0, 1.0);
            }
        </script>

        <script id = "fragment" type = "x-shader/x-fragment">
            #ifdef GL_ES
            precision highp float;
            #endif

            uniform vec4 uColor;

            void main() {
                gl_FragColor = uColor;
            }
        </script>
    </head>

    <body onload="start()">
        <div class = "navbar">
            <div class="navbar-shape">
                <button class="btn" type = "button" id = "square-button">Square</button>
                <button class="btn" type = "button" id = "line-button">Line</button>
                <button class="btn" type = "button" id = "polygon-button">Polygon</button>
            </div>
            <div class="navbar-saveload">
                <button class="btn" type = "button" id = "save-button" onclick="saveShapes()">Save</button>
                <input type = "file" id = "load-filename" onchange="checkLoad()" multiple/>
                <button class="btn" type = "button" id = "load-button" onclick="load()" disabled="true">Load</button>
            </div>
            <div class="navbar-help">
                <button class="btn" type = "button" id = "help-button">Help</button>
            </div>
        </div>

        <div class = "master-container">
            <section class = "divider">
                <div id="color-form" style="display: none;">
                    Choose color:
                    <select name="colors" id="color-dropdown">
                        <option value="red">Red</option>
                        <option value="green">Green</option>
                        <option value="blue">Blue</option>
                        <option value="cyan">Cyan</option>
                        <option value="magenta">Magenta</option>
                        <option value="yellow">Yellow</option>
                        <option value="black">Black</option>
                        <option value="white">White</option>
                    </select>
                </div>

                <div class="form" id="square-form" style="display: none;">
                    Length:
                    <input id="square-input" type="text" name="length">
                    <input class="btn" id="square-btn-submit" type="submit" value="Add Square">
                </div>

                <div class="form" id="polygon-form" style="display: none;">
                    Number of vertices:
                    <input id="polygon-input" type="text" name="num-vertices">
                    <input class="btn" id="polygon-btn-submit" type="submit" value="Add Polygon">
                </div>

                <div class="form" id="line-form" style="display: none;">
                    <input class="btn" id="line-btn-submit" type="submit" value="Add Line">
                </div>

                <div class = "container center">
                    <canvas id = "draw-shape" width = "500" height = "500"></canvas>
                </div>
            </section>

            <section class = "divider">
                <p style="font-weight: bold;">Shape List</p>
                <table id="shape-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Shape Type</th>
                            <th>Shape Name</th>
                            <th>Color</th>
                            <th>ID</th>
                            <th colspan=2>Change Properties</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </section>
        </div>

        <div id="help-modal" class="modal">
            <div class="help-content">
                <span id="close" class="close">&times;</span>
                <h1>Help</h1>
                <p><strong>NOTICE</strong>: Canvas size is 2 &times; 2, so objects with size greater than that may overflow the canvas</p>
                <ol type = "i">
                    <li style="font-weight: bolder;">Draw shape</li>
                        <ol type = "A">
                            <li style="font-weight: bold;">Draw Line</li>
                                <ol>
                                    <li>Choose "Line" button</li>
                                    <li>Choose two points by clicking on the canvas</li>
                                </ol>
                            <li style="font-weight: bolder;">Draw Square</li>
                                <ol>
                                    <li>Choose "Square" button</li>
                                    <li>Choose the color</li>
                                    <li>Input the length</li>
                                    <li>Choose "Add Square" button</li>
                                    <li>Choose one point for the square's position by clicking on the canvas</li>
                                </ol>
                            <li style="font-weight: bolder;">Draw Polygon</li>
                                <ol>
                                    <li>Choose "Polygon" button</li>
                                    <li>Choose the color</li>
                                    <li>Input the number of the vertex</li>
                                    <li>Choose "Add Polygon" button</li>
                                    <li>Choose the vertices as many as your input by clicking on the canvas (The polygon will appear when you've already selected all the vertices)</li>
                                </ol>
                        </ol>
                    <li style="font-weight: bolder;">Change the property of the shape</li>
                        <ol>
                            <li>Look at the shape list</li>
                            <li>Input the new property on the input box of the corresponding shape</li>
                        </ol>
                    <li style="font-weight: bolder;">Move the vertex</li>
                        <ol>
                            <li>Click the vertex of a shape</li>
                            <li>The clicked vertex will follow the cursor, which means you have entered the dragging mode</li>
                            <li>To exit dragging mode, double click on the canvas</li>
                        </ol>
                    <li style="font-weight: bolder;">Save the model</li>
                        <ol>
                            <li>Choose "Save" button</li>
                            <li>Download the file</li>
                        </ol>
                    <li style="font-weight: bolder;">Load the model</li>
                        <ol>
                            <li>Choose "Browse..." button</li>
                            <li>Choose the file</li>
                            <li>Choose "Load" button</li>
                        </ol>
                </ol>
            </div>
        </div>

    </body>
    <script type = "text/javascript" src= "scripts/state.js"></script>
    <script type = "text/javascript" src= "scripts/function.js"></script>
    <script type = "text/javascript" src= "scripts/GLShape.js"></script>
    <script type = "text/javascript" src= "scripts/utils.js"></script>
    <script type = "text/javascript" src= "scripts/dom.js"></script>
    <script type = "text/javascript" src= "scripts/change.js"></script>
    <script type = "text/javascript" src= "scripts/canvas.js"></script>
    
</html>